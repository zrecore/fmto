<!DOCTYPE html>
<html lang="en">
    <head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>FMTO - math/linear-algebra/dot-product.test</title>
		<link rel="stylesheet" type="text/css" href="/test/style.css" />
	</head>
	<body>
		<h1>linear-algebra/dot-product</h1>
		<a href="/test/index.test.html">Back to test index</a>
        <p id="hasLinearAlgebra"></p>
		<p id="dotProduct2"></p>
        <p id="dotProduct3"></p>
		<script type="module">
			import { Core, LinearAlgebra } from '/src/index.mjs'
            import { Vector2D, Vector3D, Vector4D } from '/src/lib/vector.mjs'

			const core = new Core()
			
			const hasAdapter = await core.initializeAdapter()
			const hasDevice = await core.initializeDevice()

			let result_2d = null
			let result_3d = null

			if (hasAdapter && hasDevice) {
				const linearAlgebra = new LinearAlgebra(
					core.device
				)
				if (linearAlgebra)
				{
					document.getElementById('hasLinearAlgebra').textContent = true
				}
				
				const e1_2d = new Vector2D(4.0, 8.0)
				const e2_2d = new Vector2D(7.0, 3.0)

				const e1_3d = new Vector3D(9.0, 2.0, 7.0)
				const e2_3d = new Vector3D(4.0, 8.0, 10.0)

				result_2d = await linearAlgebra.dotProduct(e1_2d, e2_2d)
				result_3d = await linearAlgebra.dotProduct(e1_3d, e2_3d)

			}
            if (result_2d)
            {
                // (4 * 7) + (8 * 3)
                // 28 + 24
                //
                // Expect 52
                document.getElementById('dotProduct2').textContent = result_2d[0]
            }
            if (result_3d)
            {
                // (9 * 4) + (2 * 8) + (7 * 10)
                // 36 + 16 + 70
                //
                // Expect 122
                document.getElementById('dotProduct3').textContent = result_3d[0]
            }
		</script>
	</body>
</html>
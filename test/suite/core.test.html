<!DOCTYPE html>
<html lang="en">
    <head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>FMTO - core.test</title>
		<link rel="stylesheet" type="text/css" href="/test/style.css" />
	</head>
	<body>
		<h1>core</h1>
		<a href="/test/index.test.html">Back to test index</a>
		<p id="hasAdapter"></p>
		<p id="hasDevice"></p>
		<canvas id="gpuCanvas"></canvas>
		<script type="module">
			import { Core } from '/src/index.mjs'
			const core = new Core()
			
			

			const hasAdapter = await core.initializeAdapter()
			const hasDevice = await core.initializeDevice()

			if (hasAdapter)
			{
				const adapterInitialized = new CustomEvent('adapter-initialized')
				document.getElementById('hasAdapter').textContent = 'true'
				window.dispatchEvent(adapterInitialized)
			} else {
				document.getElementById('hasAdapter').textContent = 'false'
			}

			if (hasDevice)
			{
				const deviceInitialized = new CustomEvent('device-initialized')
				document.getElementById('hasDevice').textContent = 'true'
				window.dispatchEvent(deviceInitialized)
			} else {
				document.getElementById('hasDevice').textContent = 'false'
			}
			

		</script>
	</body>
</html>